!function(e){function t(){this.suppressLog||i("log",this,arguments)}function n(){i("warn",this,arguments)}function r(){i("info",this,arguments)}function i(t,n,r){if(void 0!==window.console&&window.isFake!==!0){var i=e.map(r,l);i[0]=[n.prefix,i[0],n.postfix].join("");var a="boolean"===e.type(i[i.length-1])?i.pop():null;a===!0&&window.group(i[0]),i[0]&&null===a&&(window.navigator.userAgent.indexOf("MSIE")>=0?window.log(i.join(",")):window.console[t].apply(window.console,i)),a===!1&&window.groupEnd()}}function a(e){return{log:function(){t.apply(e,arguments)},warn:function(){n.apply(e,arguments)},info:function(){r.apply(e,arguments)}}}void 0===window.console&&(window.console={isFake:!0});for(var s=["log","warn","info","group","groupCollapsed","groupEnd"],o=s.length-1;o>=0;o--)void 0===window.console[s[o]]&&(window.console[s[o]]=e.noop);if(e){var l=function(e){return e},u=function(t){return t=e.extend({},defaults,t),a(t)};defaults={suppressLog:!1,prefix:"",postfix:""},e.extend(u,a(defaults)),void 0===e.console&&(e.console=u),e.consoleNoConflict=u}}(jQuery),function(e,t,n,r){function i(t,n,r){this.element=t,this._name=m,this._defaults=e.fn.validateIt.defaults,this.options=n,this.isSubmit=r,this.success=!1,this.formHeight=e(this.element).parent().innerHeight(),this.init()}function a(e){function t(){}if(null==e)throw TypeError();if(Object.create)return Object.create(e);var n=typeof e;if("object"!==n&&"function"!==n)throw TypeError();return t.prototype=e,new t}function s(t,n,r,i){return n.prototype=a(t.prototype),n.prototype.constructor=n,r&&e.extend(n.prototype,r),i&&e.extend(n,i),n}function o(){throw new Error("abstract method")}function l(){throw new Error("Can't instantiate abstract classes")}var u=null;!function(){var t={},n=function(n){for(var r in n)t[r]&&g("validator '%s' already exists",r),e.isFunction(n[r])&&(n[r]={fn:n[r]});e.extend(!0,t,n)},r=function(n){var r={};for(var i in n)t[i]?r[i]=n[i]:g("cannot update validator '%s' doesn't exist yet",i);e.extend(!0,t,r)},i=function(e){var n=t[e];if(!n){var r="Missing rule: "+e;throw g(r),new Error("Stopped: no rule found with name: "+e)}return n},a=function(){return t};u={addRule:n,getRule:i,updateRule:r,getRawRules:a}}();var c={appendArg:function(e,t,n){n||(n=0);var r=[].slice.call(e,n);return r[n]=t+r[n],r},validateDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())?!1:!0:!1},dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},parseDate:function(e){alert(Object.prototype.toString.call(e));var t=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(!t)return null;var n;return n=new Date(parseInt(t[3],10),parseInt(t[2],10)-1,parseInt(t[1],10))}},d="0.0.1",p=e.consoleNoConflict({prefix:"validateIt.js: "}),f=p.log,g=p.warn,h=p.info,m="validateIt";e.extend(i.prototype,{init:function(){this.buildCache(),this.bindEvents()},destroy:function(){this.unbindEvents(),this.$element.removeData()},buildCache:function(){this.$element=e(this.element)},bindEvents:function(){var t=this;t.$element.on("click."+t._name,function(n){t.isSubmit||n.preventDefault(),f("configuring form height: "+t.$element.closest(".steps").outerHeight());var r=t.validator.call(t);f("exisitng validateIt: status: "+r);try{if(!r)return t.$element.closest("form").css({height:t.$element.closest(".steps").outerHeight()}),t.success=!1,!1;if(t.$element.closest("form").css({height:t.$element.closest(".steps").next().outerHeight()}),t.success=!0,!t.isSubmit)return!0;e("form:first").submit()}catch(n){alert("e"),g("Error occurred at binding events: "+n)}})},unbindEvents:function(){this.$element.off("."+this._name)},validator:function(){var t=this.$element.prop("tagName").toLowerCase().trim(),n=!1,i="";if("a"==t||"button"==t||"input"==t)if("input"==t){var a=this.$element.attr("type");f(a),a===r?(i="not a valid operator to work upon: input tag doesnt have type attribute",n=!1):"submit"!=a.toLowerCase().trim()&&"button"!=a.toLowerCase().trim()?(i="not a valid operator to work upon: input tag is not of type button or submit",n=!1):n=!0}else n=!0;if(f("_isAValidTag: "+n),n){var s=new b,o=s.validateFormElements(this.options);return o?(this.isSubmit||(f("calling next step"),e.validateIt.multiStepFormExecutor.moveNext(null)),!0):!1}return f(" :not a valid tag: "+i),!1},callback:function(){var e=this.options.onComplete;"function"==typeof e&&e.call(this.element)}}),e.fn.validateIt=function(t){var n=null,r=0;return f("ValidateIt.js Initialization begins"),this.each(function(a){(n=e.data(this,"plugin_"+m))||(console.log("asdfasdf"),e.isArray(t)&&t.length>1?(e.data(this,"plugin_"+m,new i(this,t[r++],!1)),e(this).prev(".previous").click(function(t){e.validateIt.multiStepFormExecutor.movePrev(t,null)})):e.isArray(t)?e.data(this,"plugin_"+m,new i(this,t[0],!0)):e.data(this,"plugin_"+m,new i(this,t,!0)),n=e.data(this,"plugin_"+m))}),e.data(this,"plugin_"+m,new i(e("#submit"),t[t.length-1],!0)),e.isArray(t)&&t.length>1&&e("#submit").prev(".previous").click(function(t){e.validateIt.multiStepFormExecutor.movePrev(t,null)}),e(this).closest("form").css({height:e("steps").eq(0).outerHeight()}),f("this.element: "+e(this).parentsUntil(".steps").parent().outerHeight()+e(this).closest(".steps").prop("class")),e("#progressbar li").click(function(t){var n=e(this).index();console.log("index of the clicked li is: "+n),n>e.validateIt.multiStepFormExecutor.currentStepIndex?e.validateIt.multiStepFormExecutor.moveNext(n):n<e.validateIt.multiStepFormExecutor.currentStepIndex&&e.validateIt.multiStepFormExecutor.movePrev(t,n)}),f("ValidateIt.js Initialization done"),this};var v={debug:!0,parent:"form-group",errorBlock:null,errorContainer:"form-group",property:"value"},y={formElements:null,onComplete:null};e.fn.validateIt.defaults=y,e.validateIt=function(t){e.extend(v,t)},Function.prototype.extend=function(e,t,n){return s(this,e,t,n)},l.prototype.contains=o;var x=l.extend(function(){throw new Error("Can't instantiate abstract classes")},{toString:function(){return(this.type?this.type+": ":"")+(this.name?this.name+": ":"")},log:function(){v.debug&&f.apply(this,c.appendArg(arguments,this.toString()))},warn:function(){g.apply(this,c.appendArg(arguments,this.toString()))},info:function(){h.apply(this,c.appendArg(arguments,this.toString()))}}),E=x.extend(function(t,n,r){this.type="ValidationElement",this.name=t,this.parent=null,this.formElement=null,this.processedSuccessfully=!1,this.elementType=null,this.rules=new Object;var i=null,a=this;if(!t.length||"undefined"===e.type(t))throw this.warn("Can't instantiate without a formElement reference"),new Error("Stopped at processing formElement");if(!n.length||"undefined"===e.type(n))throw this.warn("Can't instantiate without a formElement reference"),new Error("Can't instantiate without a rule");for(this.formElement=e("input[name='"+t+"']"),"undefined"===e.type(this.formElement.prop("tagName"))&&(this.formElement=e("select[name='"+t+"']")),this.parent=this.formElement.parent();!this.parent.hasClass(v.errorContainer);)this.parent=this.parent.parent();e.each(n,function(t,n){var r=n.split(":");i={},i.name=e.trim(r[0]),i.length=1 in r?parseInt(r[1]):0,"min"==i.name?i.minLength=r[1]:"max"==i.name?i.maxLength=r[1]:"dateRange"==i.name&&(2==r.length?(h("Initializing rule: "+i.name+" : element: "+this.name+" : 2 parameter given, setting the start date"),i.startDate=r[1]):3==r.length&&(h("Initializing rule: "+i.name+" : element: "+this.name+" : 3 parameter given, setting the start and end date"),i.startDate="null"==r[1]?null:r[1],i.endDate=r[2])),i.status=!1,i.message="",a.rules[i.name]=i}),f("error Block specified for "+this.getName()+", using specfied block: "+r),"undefined"!==e.type(r)&&"null"!==e.type(r)&&r.length?(f("error Block specified for "+this.getName()+", using specfied block: "+r),this.errorBlock=r):(h("No error Block specified for "+this.getName()+", using default block: "+v.errorBlock),this.errorBlock=v.errorBlock)},{getName:function(){return this.name},getFormElement:function(){return this.formElement},getParent:function(){return this.parent},getRules:function(){return this.rules},getRuleStatus:function(e){return this.rules[e].status},setRuleStatus:function(e,t){this.rules[e].status=t},getRuleLength:function(e){return this.rules[e].length},getRule:function(e){return this.rules[e]},getRuleMessage:function(e){return this.rules[e].message},setRuleMessage:function(e,t){return this.rules[e].message=t},getMinLength:function(){return this.rules.min.minLength},getMaxLength:function(){return this.rules.max.maxLength},getDateRangeStart:function(){return this.rules.dateRange.startDate},getDateRangeEnd:function(){return this.rules.dateRange.endDate},getErrorBlock:function(){return this.errorBlock},setStatus:function(t){"boolean"===e.type(new Boolean)&&t&&(this.processedSuccessfully=!0)},isOkay:function(){return this.processedSuccessfully},getElementType:function(){var t=null;if(t=this.getFormElement().attr("type"),"undefined"!==e.type(t)&&"input"==this.getFormElement().prop("tagName").toLowerCase());else{if("undefined"!==e.type(t))return null;t=this.getFormElement().prop("tagName").toLowerCase()}return t}}),w=x.extend(function(t,n){if(this.type="Rule",this.name=t,!e.isPlainObject(n))throw this.warn("rule definition must be a function or an object"),new Error("Stopped at processing Rule");n.hasOwnProperty("fn")&&e.isFunction(n.fn)?(this.fn=n.fn,this.message=null):"regexp"===e.type(n.regex)&&(this.regex=n.regex,this.message=n.message,this.fn=function(e){return function(t){var n=new RegExp(e);return t.getFormElement().val().match(n)?!0:this.message||"Invalid Format"}}(n.regex))},{getRuleName:function(){return this.name},getRulefn:function(){return this.fn}}),S=x.extend(function(){this.type="ErrorHandler"},{addErrorMessage:function(t,n){var r=e("<span />",{id:"validationErrorRequired","class":"bg-danger help-block"}).text(n),i=t.getParent(),a=t.getErrorBlock();if(this.info("type of errorBlock: "+e.type(a)+" : "+a),"undefined"===e.type(a)||"null"===e.type(a)||"string"===e.type(a)&&!a.length){this.info("#validationErrorRequired length: "+i.find("#validationErrorRequired").length);var s=i.find("#validationErrorRequired").length;0==s?i.append(r):1==s&&i.find("#validationErrorRequired").text(n)}else{this.info("error block specified"+a),this.info("error block specified: length: "+i.find("#"+a).find("#validationErrorRequired").length);var o=i.find("#"+a),s=o.find("#validationErrorRequired").length;0==s?(this.info("setting errorBlock"),o.append(r)):1==s&&o.find("#validationErrorRequired").text(n)}},removeErrorMessage:function(t){var n="#validationErrorRequired",r=t.getParent(),i=t.getErrorBlock();"undefined"!==e.type(i)||"null"!==e.type(i)||"string"===e.type(i)&&!i.length?r.find("#validationErrorRequired").length>0&&r.find(n).remove():r.find("#"+i).find("#validationErrorRequired").length>0&&r.find("#"+i).find(n).remove()},addErrorIndicator:function(e){var t=e.getParent();t.find(".glyphicon-ok").length>0&&t.find(".glyphicon-ok").remove(),0==t.find(".glyphicon-remove").length&&t.append('<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>'),this.informError(e)},informError:function(e){var t=e.getParent();t.hasClass("has-success")&&t.removeClass("has-success"),t.addClass("has-error").addClass("has-feedback")},addSuccessIndicator:function(e){var t=e.getParent();t.find(".glyphicon-remove").length>0&&t.find(".glyphicon-remove").remove(),0==t.find(".glyphicon-ok").length&&t.append('<span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>'),this.informSuccess(e)},informSuccess:function(e){var t=e.getParent();t.hasClass("has-error")&&t.removeClass("has-error"),t.addClass("has-success").addClass("has-feedback")}}),I=x.extend(function(){this.type="MultiStepFormExecutor",this.totalSteps=e(".steps").size(),this.currentStepIndex=0,this.isAnimating=!1,this.init()},{init:function(){this.setProgressText(e("#progressbar li").eq(this.currentStepIndex).text())},moveNext:function(t){var n=this;if(n.isAnimating)return f("returned"),!1;n.isAnimating=!0;var r=e(".steps").eq(n.currentStepIndex);if(f("current step index: "+n.currentStepIndex),t||0==t)if(n.currentStepIndex+1==t)f(n.type+":moveNext: eq to step"),e("#progressbar li").eq(++n.currentStepIndex).addClass("active");else{f(n.type+":moveNext: > step");do e("#progressbar li").eq(++n.currentStepIndex).addClass("active"),e(".steps").hide();while(n.currentStepIndex<t)}else f(n.type+":moveNext: null step"),e("#progressbar li").eq(++n.currentStepIndex).addClass("active");var i=e(".steps").eq(n.currentStepIndex);f("next step: "),f(i),stepText=e("#progressbar li").eq(n.currentStepIndex).text(),e("#stepText").hasClass("slideDown")&&e("#stepText").removeClass("slideDown").show(),f("step text: "+stepText),n.setProgressText(stepText),i.css({transform:"translateX(0%)"}),e(".steps").hide(),i.show(),r.animate({opacity:0},{step:function(e,t){var n;transx=50*(1-e),n=50*e,opacity=1-e,r.css({transform:"translateX("+transx+"%)"}),i.css({left:n+"%",opacity:opacity})},duration:800,easing:"easeInOutCubic",complete:function(){r.hide(),n.isAnimating=!1}})},movePrev:function(t,n){var r=this;if(r.isAnimating)return!1;r.isAnimating=!0,t.preventDefault();var i=e(".steps").eq(r.currentStepIndex);if(f("current step index: "+r.currentStepIndex),n||0==n)if(r.currentStepIndex-1==n)f(r.type+":movePrev: eq step"),e("#progressbar li").eq(r.currentStepIndex--).removeClass("active");else for(f(r.type+":movePrev: > step");r.currentStepIndex>n;)e("#progressbar li").eq(r.currentStepIndex--).removeClass("active"),e(".steps").eq(r.currentStepIndex).hide();else f(r.type+":movePrev: null step"),e("#progressbar li").eq(r.currentStepIndex--).removeClass("active");var a=e(".steps").eq(r.currentStepIndex);stepText=e("#progressbar li").eq(r.currentStepIndex).text(),e("#stepText").hasClass("slideDown")&&e("#stepText").removeClass("slideDown").show(),f("step text: "+stepText),r.setProgressText(stepText),a.css({transform:"translateX(0%)"}),e(".steps").hide(),a.show(),i.animate({opacity:0},{step:function(e,t){transx=50*(1-e),left=50*e,opacity=1-e,i.css({transform:"translateX("+transx+"%)"}),a.css({left:left+"%",opacity:opacity})},duration:800,easing:"easeInOutCubic",complete:function(){var e=a.outerHeight();a.closest("form").css({height:e}),f("configuring form height for prev btn click: "+e+" current step: "+r.currentStepIndex),i.hide(),r.isAnimating=!1}})},setProgressText:function(t){this.log(this.toString()+"starting"),e("#stepText").text(t);var n=e("<small />",{"class":"ph-small"}).text(this.currentStepIndex+1+"/"+this.totalSteps);e("#stepText").append(n).addClass("slideDown")}}),b=x.extend(function(){this.type="FormHandler",this.allInputsTrue=[],this.formElements=new Object,this.isSuccess=!0,this.errorHandler=new S},{validateFormElements:function(t){f(this.toString()+" starting");var n=this;try{e.each(t,function(e,t){f("validation form: element scanning : "+e);var i=e+"",a=r;t.hasOwnProperty("errorBlock")&&(a=t.errorBlock,f("has property block "+a+" type of "+typeof a));var s=t.rule;try{var o=new E(i,s,a);n.formElements[o.getName()]=o}catch(l){}n.formElementsHandler.call(n,n.formElements[o.getName()])})}catch(i){f("validation form: "+i)}return e.each(this.formElements,function(e,t){return t.isOkay()?void 0:(n.isSuccess=!1,!1)}),f("validation form "+this.isSuccess),n.isSuccess},formElementsHandler:function(t){var n=!0,r=(t.getFormElement(),this);e.each(t.getRules(),function(e,n){r.info("element Name: "+t.getName()+" :rule name: "+e)}),e.each(t.getRules(),function(e,n){return r.info("element Name: "+t.getName()+" : applying rule name: "+e),r.validationHandler.call(r,t,e)?void r.info("element Name: "+t.getName()+" :rule name: "+e+" : returned true"):(r.info("element Name: "+t.getName()+" :rule name: "+e+" : returned false"),!1)});try{r.info("entering element error indicator setter"),e.each(t.getRules(),function(i,a){if(r.info("formElementStatus"+t.getRuleStatus(i)),r.info("element.val: "+t.getFormElement().val().length),r.info("element.type: "+e.type(t.getRule("required"))),"undefined"===e.type(t.getRule("required"))&&t.getFormElement().val().length>0){if(!t.getRuleStatus(i)){var s=t.getRuleMessage(i);if(r.info("formElement Rule Message: "+s),"string"==e.type(s)){try{r.errorHandler.addErrorMessage(t,s)}catch(o){r.log(o)}"input"===t.getFormElement().prop("tagName").toLowerCase()&&"radio"!==t.getElementType().toLowerCase()?r.errorHandler.addErrorIndicator(t):"select"===t.getElementType()&&r.errorHandler.informError(t)}return n=!1,!1}}else if("undefined"!==e.type(t.getRule("required"))&&!t.getRuleStatus(i)){var s=t.getRuleMessage(i);if(r.info("formElement Rule Message: "+s),"string"==e.type(s)){try{r.errorHandler.addErrorMessage(t,s)}catch(o){r.log(o)}"input"===t.getFormElement().prop("tagName").toLowerCase()&&"radio"!==t.getElementType().toLowerCase()?r.errorHandler.addErrorIndicator(t):"select"===t.getElementType()&&r.errorHandler.informError(t)}return n=!1,!1}})}catch(i){this.log(i)}f("validator "+n),n&&(r.errorHandler.removeErrorMessage(t),"input"===t.getFormElement().prop("tagName").toLowerCase()&&"radio"!==t.getElementType().toLowerCase()?r.errorHandler.addSuccessIndicator(t):"select"===t.getElementType()&&r.errorHandler.informSuccess(t),t.setStatus(!0))},validationHandler:function(t,n){var r=!1;try{var i=(e.validateIt.getRawRules(),new w(n,e.validateIt.getRule(n))),a=i.fn(t);this.info("status for rule("+n+") applied on element("+t.getName()+"): "+a),"boolean"===e.type(a)&&a?(t.setRuleStatus(n,!0),t.setRuleMessage(n,""),r=!0):"string"==e.type(a)&&(t.setRuleStatus(n,!1),t.setRuleMessage(n,a),r=!1)}catch(s){this.warn(s)}return f("handleRequired inputs "+r),r}}),R=null;!function(){var e=new I;R={objMultiStepForm:e}}(),e.extend(e.validateIt,{version:d,addRule:u.addRule,updateRule:u.updateRule,getRule:u.getRule,getRawRules:u.getRawRules,globalOptions:v,defaults:y,multiStepFormExecutor:R.objMultiStepForm,utils:c}),e.validateIt.addRule({required:{fn:function(t){var n=t.getFormElement(),r=t.getElementType();if("null"===e.type(r))return"There is no type for this element to check for this field";if("radio"==r){if(!n.is(":checked"))return"Please select one radio option."}else{var i=n.val().toLowerCase();if("select"==r){if("invalid"==i)return"Please select one option"}else if(!i.length)return"This field is required"}return!0}},email:{regex:/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address"},number:{regex:/^\d+$/,message:"Use digits only"},alphaNumeric:{regex:/^[0-9A-Za-z ]+$/,message:"Use digits & letters only"},alphaDash:{regex:/^[0-9A-Za-z -]+$/,message:"Use digits, letters & '-' only "},name:{regex:/^[0-9A-Za-z ',."-]+$/,message:"Use digits, letters & special character which are -, ', . only "},designation:{regex:/^[0-9A-Za-z ',."-()]+$/,message:"Use digits, letters & special character which are -, ', . only "},address:{regex:/^[0-9A-Za-z ,(),:#-]+$/,message:"Use digits, letters & '-' only "},text:{regex:/^[0-9A-Za-z :"@#',.-\\]+$/,message:"Use digits, letters & special characters which are :, ', \",@ , #, \\,. , - "},min:{fn:function(t){var n=t.getFormElement(),r=t.getElementType();if("null"===e.type(r))return"There is no type for this element to check for this field";var i=n.val(),a=parseInt(t.getMinLength(),10);return i.length<a?"Must be at least "+a+" characters":!0}},max:function(t){var n=t.getFormElement(),r=t.getElementType();if("null"===e.type(r))return"There is no type for this element to check for this field";var i=n.val(),a=parseInt(t.getMaxLength(),10);return i.length>a?"Must be at most "+a+" characters":!0},date:{fn:function(t){var n=t.getFormElement(),r=t.getElementType();if("null"===e.type(r))return"There is no type for this element to check for this field";var i=e.validateIt.utils.parseDate(n.val());return e.validateIt.utils.validateDate(i)?!0:"Invalid Date"}},dateRange:{fn:function(t){var n=t.getFormElement(),r=t.getElementType();if(alert("in dr"),"null"===e.type(r))return"There is no type for this element to check for this field";var i=t.getDateRangeStart(),a=t.getDateRangeEnd(),s=n.val(),o=null,l=null;if(null==i)t.warn("Missing start date, skipping that...");else if(alert("sd"),alert(Object.prototype.toString.call(i)),l=e.validateIt.utils.parseDate(i),!e.validateIt.utils.validateDate(l))return"Invalid Start Date "+l;if(null==a)t.warn("Missing end date, skipping that...");else if(alert("ed"),alert(Object.prototype.toString.call(i)),o=e.validateIt.utils.parseDate(a),!e.validateIt.utils.validateDate(o))return"Invalid End Date";alert("id"),alert(Object.prototype.toString.call(i));var u=e.validateIt.utils.parseDate(s);return alert(u),e.validateIt.utils.validateDate(u)?(alert("cleared"),l>=o&&null!=l&&null!=o?"Start Date must come before End Date in the rule specified":null!=i&&null==a?u>=l?!0:"Invalid Date, entered date should be after "+l:null==i&&null!=a?o>=u?!0:"Invalid Date, entered date should be before "+o:null!=i&&null!=a?u>=l&&o>=u?!0:"Invalid Date, entered date should be between "+l+" and "+o:"Invalid parameters given in the rule"):"Invalid Entered Date"}}})}(jQuery,window,document);